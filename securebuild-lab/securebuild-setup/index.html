
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
      <link rel="shortcut icon" href="../../images/hpvs-logo.svg">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-6.1.6">
    
    
      
        <title>Configuring your Environment - Hyper Protect Virtual Servers (HPVS) Workshop</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.6910b76c.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.196e0c26.min.css">
        
      
    
    
    
      
        
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
    
      
        
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-174658170-2","auto"),ga("set","anonymizeIp",!0),ga("send","pageview"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){if(this.value){var e=document.location.pathname;ga("send","pageview",e+"?q="+this.value)}})}),document.addEventListener("DOMContentSwitch",function(){ga("send","pageview",document.location.pathname)})</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
      
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="preference" data-md-color-primary="" data-md-color-accent="">
      
        <script>matchMedia("(prefers-color-scheme: dark)").matches&&document.body.setAttribute("data-md-color-scheme","slate")</script>
      
  
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#configuring-your-environment" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href="../.." title="Hyper Protect Virtual Servers (HPVS) Workshop" class="md-header-nav__button md-logo" aria-label="Hyper Protect Virtual Servers (HPVS) Workshop">
      
  <img src="../../images/hpvs-logo.svg" alt="logo">

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      
        <div class="md-header-nav__ellipsis">
          <span class="md-header-nav__topic md-ellipsis">
            Hyper Protect Virtual Servers (HPVS) Workshop
          </span>
          <span class="md-header-nav__topic md-ellipsis">
            
              Configuring your Environment
            
          </span>
        </div>
      
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header-nav__source">
        
<a href="https://github.com/ibm-wsc/hyper-protect-virtual-servers-workshop/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Hyper Protect Virtual Servers (HPVS) Workshop" class="md-nav__button md-logo" aria-label="Hyper Protect Virtual Servers (HPVS) Workshop">
      
  <img src="../../images/hpvs-logo.svg" alt="logo">

    </a>
    Hyper Protect Virtual Servers (HPVS) Workshop
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/ibm-wsc/hyper-protect-virtual-servers-workshop/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../assignment/" class="md-nav__link">
      Lab Assignments
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3" >
    <label class="md-nav__link" for="nav-3">
      GREP11 Lab
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="GREP11 Lab" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        <span class="md-nav__icon md-icon"></span>
        GREP11 Lab
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../grep11-lab/overview/" class="md-nav__link">
      Lab overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../grep11-lab/grep11-setup/" class="md-nav__link">
      How to set up a GREP11 server
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../grep11-lab/grep11-display/" class="md-nav__link">
      Displaying your GREP11 environment
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../grep11-lab/run-grep11-samples/" class="md-nav__link">
      Run the GREP11 sample code
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="nav-3-5" type="checkbox" id="nav-3-5" >
    <label class="md-nav__link" for="nav-3-5">
      Run the Lab exercises
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Run the Lab exercises" data-md-level="2">
      <label class="md-nav__title" for="nav-3-5">
        <span class="md-nav__icon md-icon"></span>
        Run the Lab exercises
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../grep11-lab/exercise-overview/" class="md-nav__link">
      An overview of the Exercises
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../grep11-lab/lab-exercise1/" class="md-nav__link">
      Exercise 1 (List PKCS Mechanisms)
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../grep11-lab/lab-exercise2/" class="md-nav__link">
      Exercise 2 (Encryption and Decryption)
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../grep11-lab/lab-exercise3/" class="md-nav__link">
      Exercise 3 (Sign and Verify)
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../grep11-lab/lab-exercise4/" class="md-nav__link">
      Exercise 4 (Wrap and Unwrap Key)
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4" checked>
    <label class="md-nav__link" for="nav-4">
      Secure Image Build Lab
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Secure Image Build Lab" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        <span class="md-nav__icon md-icon"></span>
        Secure Image Build Lab
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../prerequisites/" class="md-nav__link">
      Prerequisites
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../overview/" class="md-nav__link">
      Hyper Protect Virtual Servers (HPVS) Lab Process Overview
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Configuring your Environment
        <span class="md-nav__icon md-icon"></span>
      </label>
    
    <a href="./" class="md-nav__link md-nav__link--active">
      Configuring your Environment
    </a>
    
      
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#explore-the-hyper-protect-virtual-servers-cli" class="md-nav__link">
    Explore the Hyper Protect Virtual Servers CLI
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#add-docker-registry-to-use-for-secure-build" class="md-nav__link">
    Add Docker registry to use for secure build
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#create-directory-for-secure-build-lab-and-change-directory" class="md-nav__link">
    Create directory for secure build lab and change directory
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#create-ssh-key-and-grant-github-access" class="md-nav__link">
    Create SSH Key and Grant GitHub access
  </a>
  
</li>
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../create-server/" class="md-nav__link">
      Create your HPVS Secure Build Server
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../build/" class="md-nav__link">
      Securely Build your Application
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../deploy-app/" class="md-nav__link">
      Deploy your Securely Built Application as a Hyper Protect Virtual Server
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../bitcoin_wallet/" class="md-nav__link">
      Welcome to the Secure Bitcoin Wallet on IBM LinuxONE
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../cleanup/" class="md-nav__link">
      Clean up your Environment
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../glossary/" class="md-nav__link">
      Glossary of terms
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../resources/" class="md-nav__link">
      Other resources
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../proposechange/" class="md-nav__link">
      Propose a change
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#explore-the-hyper-protect-virtual-servers-cli" class="md-nav__link">
    Explore the Hyper Protect Virtual Servers CLI
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#add-docker-registry-to-use-for-secure-build" class="md-nav__link">
    Add Docker registry to use for secure build
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#create-directory-for-secure-build-lab-and-change-directory" class="md-nav__link">
    Create directory for secure build lab and change directory
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#create-ssh-key-and-grant-github-access" class="md-nav__link">
    Create SSH Key and Grant GitHub access
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/ibm-wsc/hyper-protect-virtual-servers-workshop/edit/master/docs/securebuild-lab/securebuild-setup.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                <h1 id="configuring-your-environment">Configuring your Environment<a class="headerlink" href="#configuring-your-environment" title="Permanent link">&para;</a></h1>
<h2 id="explore-the-hyper-protect-virtual-servers-cli">Explore the Hyper Protect Virtual Servers CLI<a class="headerlink" href="#explore-the-hyper-protect-virtual-servers-cli" title="Permanent link">&para;</a></h2>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>In this lab, we will use the Hyper Protect Virtual Servers CLI (<code>hpvs</code> command) to interact with our Hyper Protect Virtual Servers Hosting Appliance in order to perform the various actions necessary for the Secure Build. Below is a quick introduction to the commands available through this CLI.</p>
</div>
<ol>
<li>
<p>See the different commands you could enter with:</p>
<div class="highlight"><pre><span></span><code>hpvs --help
</code></pre></div>
<details class="example" open="open"><summary>Example Output</summary><div class="highlight"><pre><span></span><code>IBMÂ® Hyper Protect Virtual Servers, the evolution of the
IBMÂ® Secure Service Container <span class="k">for</span> IBMÂ® Cloud Private offering,
protects Linux workloads on IBM Z and LinuxONE throughout their
lifecycle build management and deployment.
This solution delivers the security needed to protect
mission critical applications in hybrid multi-cloud deployments.

Usage:
hpvs <span class="o">[</span>command<span class="o">]</span>

Available Commands:
crypto      Crypto <span class="nb">command</span>
deploy      Deploy <span class="nb">command</span>
<span class="nb">help</span>        Help about any <span class="nb">command</span>
host        Host <span class="nb">command</span>
image       Image Command
network     Network <span class="nb">command</span>
quotagroup  Quotagroup <span class="nb">command</span>
regfile     Generate encrypted repository registration file. If you have already image build on s390x arch
registry    Registry <span class="nb">command</span>
repository  Repository <span class="nb">command</span>
sb          SecureBuild <span class="nb">command</span>
snapshot    Snapshot <span class="nb">command</span>
version     Print hpvs version
vs          Virtual Server <span class="nb">command</span>

Flags:
    --debug                   If --debug is passed, it will <span class="nb">enable</span> debug logs
-h, --help                    Help <span class="k">for</span> hpvs
    --host string             Host LPAR name
    --log-output-dir string   Set log output directory

Use <span class="s2">&quot;hpvs [command] --help&quot;</span> <span class="k">for</span> more information about a command.
</code></pre></div>
</details>
</li>
<li>
<p>See more information for the <code>Available Commands</code> listed above with:</p>
<div class="tabbed-set" data-tabs="1:14"><input checked="checked" id="__tabbed_1_1" name="__tabbed_1" type="radio" /><label for="__tabbed_1_1">crypto</label><div class="tabbed-content">
<div class="highlight"><pre><span></span><code>hpvs crypto --help
</code></pre></div>
<details class="example" open="open"><summary>Example Output</summary><div class="highlight"><pre><span></span><code>List crypto

Usage:
hpvs crypto <span class="o">[</span>command<span class="o">]</span>

Available Commands:
list        List crypto

Flags:
-h, --help   Help <span class="k">for</span> crypto

Global Flags:
    --debug                   If --debug is passed, it will <span class="nb">enable</span> debug logs
    --host string             Host LPAR name
    --log-output-dir string   Set log output directory

Use <span class="s2">&quot;hpvs crypto [command] --help&quot;</span> <span class="k">for</span> more information about a command.
</code></pre></div>
</details>
</div>
<input id="__tabbed_1_2" name="__tabbed_1" type="radio" /><label for="__tabbed_1_2">deploy</label><div class="tabbed-content">
<div class="highlight"><pre><span></span><code>hpvs deploy --help
</code></pre></div>
<details class="example" open="open"><summary>Example Output</summary><div class="highlight"><pre><span></span><code>Deploy virtual servers

Usage:
hpvs deploy <span class="o">[</span>flags<span class="o">]</span>

Flags:
    --config string         YAML configuration file <span class="k">for</span> the virtual server deployment
-h, --help                  Help <span class="k">for</span> deploy
    --templatefile string   YAML resource template file <span class="k">for</span> the virtual server deployment

Global Flags:
    --debug                   If --debug is passed, it will <span class="nb">enable</span> debug logs
    --host string             Host LPAR name
    --log-output-dir string   Set log output directory
</code></pre></div>
</details>
</div>
<input id="__tabbed_1_3" name="__tabbed_1" type="radio" /><label for="__tabbed_1_3">help</label><div class="tabbed-content">
<div class="highlight"><pre><span></span><code>hpvs <span class="nb">help</span> --help
</code></pre></div>
<details class="example" open="open"><summary>Example Output</summary><div class="highlight"><pre><span></span><code>Help provides <span class="nb">help</span> <span class="k">for</span> any <span class="nb">command</span> in the application.
Simply <span class="nb">type</span> hpvs <span class="nb">help</span> <span class="o">[</span>path to command<span class="o">]</span> <span class="k">for</span> full details.

Usage:
hpvs <span class="nb">help</span> <span class="o">[</span>command<span class="o">]</span> <span class="o">[</span>flags<span class="o">]</span>

Flags:
-h, --help   <span class="nb">help</span> <span class="k">for</span> <span class="nb">help</span>

Global Flags:
    --debug                   If --debug is passed, it will <span class="nb">enable</span> debug logs
    --host string             Host LPAR name
    --log-output-dir string   Set log output directory<span class="sb">`</span>
</code></pre></div>
</details>
</div>
<input id="__tabbed_1_4" name="__tabbed_1" type="radio" /><label for="__tabbed_1_4">host</label><div class="tabbed-content">
<div class="highlight"><pre><span></span><code>hpvs host --help
</code></pre></div>
<details class="example" open="open"><summary>Example Output</summary><div class="highlight"><pre><span></span><code>add, delete, update, list, <span class="nb">set</span> Host

Usage:
hpvs host <span class="o">[</span>command<span class="o">]</span>

Available Commands:
add         Add host
delete      Delete host
list        List host
<span class="nb">set</span>         Set host
update      Update host

Flags:
-h, --help   Help <span class="k">for</span> host

Global Flags:
    --debug                   If --debug is passed, it will <span class="nb">enable</span> debug logs
    --host string             Host LPAR name
    --log-output-dir string   Set log output directory

Use <span class="s2">&quot;hpvs host [command] --help&quot;</span> <span class="k">for</span> more information about a command.
</code></pre></div>
</details>
</div>
<input id="__tabbed_1_5" name="__tabbed_1" type="radio" /><label for="__tabbed_1_5">image</label><div class="tabbed-content">
<div class="highlight"><pre><span></span><code>hpvs image --help
</code></pre></div>
<details class="example" open="open"><summary>Example Output</summary><div class="highlight"><pre><span></span><code>list, delete, show, load, pull Image

Usage:
hpvs image <span class="o">[</span>command<span class="o">]</span>

Available Commands:
delete      Delete image
list        List image
load        Upload image
pull        Pull image
show        Show image

Flags:
-h, --help   Help <span class="k">for</span> image

Global Flags:
    --debug                   If --debug is passed, it will <span class="nb">enable</span> debug logs
    --host string             Host LPAR name
    --log-output-dir string   Set log output directory

Use <span class="s2">&quot;hpvs image [command] --help&quot;</span> <span class="k">for</span> more information about a command.
</code></pre></div>
</details>
</div>
<input id="__tabbed_1_6" name="__tabbed_1" type="radio" /><label for="__tabbed_1_6">network</label><div class="tabbed-content">
<div class="highlight"><pre><span></span><code>hpvs network --help
</code></pre></div>
<details class="example" open="open"><summary>Example Output</summary><div class="highlight"><pre><span></span><code>list, create, delete, show Network

Usage:
hpvs network <span class="o">[</span>command<span class="o">]</span>

Available Commands:
create      Create network
delete      Delete network
list        List network
show        Show network

Flags:
-h, --help   Help <span class="k">for</span> network

Global Flags:
    --debug                   If --debug is passed, it will <span class="nb">enable</span> debug logs
    --host string             Host LPAR name
    --log-output-dir string   Set log output directory

Use <span class="s2">&quot;hpvs network [command] --help&quot;</span> <span class="k">for</span> more information about a command.
</code></pre></div>
</details>
</div>
<input id="__tabbed_1_7" name="__tabbed_1" type="radio" /><label for="__tabbed_1_7">quotagroup</label><div class="tabbed-content">
<div class="highlight"><pre><span></span><code>hpvs quotagroup --help
</code></pre></div>
<details class="example" open="open"><summary>Example Output</summary><div class="highlight"><pre><span></span><code>create, delete, list, show, update Quotagroup

Usage:
hpvs quotagroup <span class="o">[</span>command<span class="o">]</span>

Available Commands:
create      Create quotagroup
delete      Delete quotagroup
list        List quotagroup
show        Show quotagroup
update      Update quotagroup

Flags:
-h, --help   Help <span class="k">for</span> quotagroup

Global Flags:
    --debug                   If --debug is passed, it will <span class="nb">enable</span> debug logs
    --host string             Host LPAR name
    --log-output-dir string   Set log output directory

Use <span class="s2">&quot;hpvs quotagroup [command] --help&quot;</span> <span class="k">for</span> more information about a command.
</code></pre></div>
</details>
</div>
<input id="__tabbed_1_8" name="__tabbed_1" type="radio" /><label for="__tabbed_1_8">regfile</label><div class="tabbed-content">
<div class="highlight"><pre><span></span><code>hpvs regfile --help
</code></pre></div>
<details class="example" open="open"><summary>Example Output</summary><div class="highlight"><pre><span></span><code>Generate encrypted repository registration file. If you have already image build on s390x arch

Usage:
hpvs regfile <span class="o">[</span>command<span class="o">]</span>

Available Commands:
create      Create encrypted repository registration file

Flags:
-h, --help   Help <span class="k">for</span> regfile

Global Flags:
    --debug                   If --debug is passed, it will <span class="nb">enable</span> debug logs
    --host string             Host LPAR name
    --log-output-dir string   Set log output directory

Use <span class="s2">&quot;hpvs regfile [command] --help&quot;</span> <span class="k">for</span> more information about a command.
</code></pre></div>
</details>
</div>
<input id="__tabbed_1_9" name="__tabbed_1" type="radio" /><label for="__tabbed_1_9">registry</label><div class="tabbed-content">
<div class="highlight"><pre><span></span><code>hpvs registry --help
</code></pre></div>
<details class="example" open="open"><summary>Example Output</summary><div class="highlight"><pre><span></span><code>add, delete, update, list, show Registry

Usage:
hpvs registry <span class="o">[</span>command<span class="o">]</span>

Available Commands:
add         Add registry
delete      Delete registry
list        List registry
show        Show registry
update      Update registry

Flags:
-h, --help   Help <span class="k">for</span> registry

Global Flags:
    --debug                   If --debug is passed, it will <span class="nb">enable</span> debug logs
    --host string             Host LPAR name
    --log-output-dir string   Set log output directory

Use <span class="s2">&quot;hpvs registry [command] --help&quot;</span> <span class="k">for</span> more information about a command.
</code></pre></div>
</details>
</div>
<input id="__tabbed_1_10" name="__tabbed_1" type="radio" /><label for="__tabbed_1_10">repository</label><div class="tabbed-content">
<div class="highlight"><pre><span></span><code>hpvs repository --help
</code></pre></div>
<details class="example" open="open"><summary>Example Output</summary><div class="highlight"><pre><span></span><code>list, register, delete, show, update Repository

Usage:
hpvs repository <span class="o">[</span>command<span class="o">]</span>

Available Commands:
delete      Delete repository
list        List repository
register    Register repository
show        Show repository
update      Update repository

Flags:
-h, --help   Help <span class="k">for</span> repository

Global Flags:
    --debug                   If --debug is passed, it will <span class="nb">enable</span> debug logs
    --host string             Host LPAR name
    --log-output-dir string   Set log output directory

Use <span class="s2">&quot;hpvs repository [command] --help&quot;</span> <span class="k">for</span> more information about a command.
</code></pre></div>
</details>
</div>
<input id="__tabbed_1_11" name="__tabbed_1" type="radio" /><label for="__tabbed_1_11">sb</label><div class="tabbed-content">
<div class="highlight"><pre><span></span><code>hpvs sb --help
</code></pre></div>
<details class="example" open="open"><summary>Example Output</summary><div class="highlight"><pre><span></span><code>SecureBuild <span class="nb">command</span>

Usage:
hpvs sb <span class="o">[</span>command<span class="o">]</span>

Available Commands:
build       Securely build your image
clean       Secure build clean. It will clean vs data eg - logs
init        Initialize secure build configuration
log         Get logs
manifest    Get manifest file
pubkey      Get manifest public key
regfile     Get encrypted repository registration file
status      Get secure build status
update      Update secure build environment

Flags:
-h, --help   Help <span class="k">for</span> sb

Global Flags:
    --debug                   If --debug is passed, it will <span class="nb">enable</span> debug logs
    --host string             Host LPAR name
    --log-output-dir string   Set log output directory

Use <span class="s2">&quot;hpvs sb [command] --help&quot;</span> <span class="k">for</span> more information about a command.
</code></pre></div>
</details>
</div>
<input id="__tabbed_1_12" name="__tabbed_1" type="radio" /><label for="__tabbed_1_12">snapshot</label><div class="tabbed-content">
<div class="highlight"><pre><span></span><code>hpvs snapshot --help
</code></pre></div>
<details class="example" open="open"><summary>Example Output</summary><div class="highlight"><pre><span></span><code>list, create, delete, restore Snapshot

Usage:
hpvs snapshot <span class="o">[</span>command<span class="o">]</span>

Available Commands:
create      Create snapshot
delete      Delete snapshot
list        List snapshots
restore     Restore snapshot

Flags:
-h, --help   Help <span class="k">for</span> snapshot

Global Flags:
    --debug                   If --debug is passed, it will <span class="nb">enable</span> debug logs
    --host string             Host LPAR name
    --log-output-dir string   Set log output directory

Use <span class="s2">&quot;hpvs snapshot [command] --help&quot;</span> <span class="k">for</span> more information about a command.
</code></pre></div>
</details>
</div>
<input id="__tabbed_1_13" name="__tabbed_1" type="radio" /><label for="__tabbed_1_13">version</label><div class="tabbed-content">
<div class="highlight"><pre><span></span><code>hpvs version --help
</code></pre></div>
<details class="example" open="open"><summary>Example Output</summary><div class="highlight"><pre><span></span><code>Print hpvs version

Usage:
hpvs version <span class="o">[</span>flags<span class="o">]</span>

Flags:
-h, --help   Help <span class="k">for</span> version

Global Flags:
    --debug                   If --debug is passed, it will <span class="nb">enable</span> debug logs
    --host string             Host LPAR name
    --log-output-dir string   Set log output directory
</code></pre></div>
</details>
</div>
<input id="__tabbed_1_14" name="__tabbed_1" type="radio" /><label for="__tabbed_1_14">vs</label><div class="tabbed-content">
<div class="highlight"><pre><span></span><code>hpvs vs --help
</code></pre></div>
<details class="example" open="open"><summary>Example Output</summary><div class="highlight"><pre><span></span><code>crate, delete, list, log, restart, show, start, stop VS

Usage:
hpvs vs <span class="o">[</span>command<span class="o">]</span>

Available Commands:
create      Create virtual server
delete      Delete virtual server
list        List virtual servers
log         Get virtual server log
restart     Restart virtual server
show        Show virtual server
start       Start virtual server
stop        Stop virtual server
update      Update virtual server

Flags:
-h, --help   Help <span class="k">for</span> vs

Global Flags:
    --debug                   If --debug is passed, it will <span class="nb">enable</span> debug logs
    --host string             Host LPAR name
    --log-output-dir string   Set log output directory

Use <span class="s2">&quot;hpvs vs [command] --help&quot;</span> <span class="k">for</span> more information about a command.
</code></pre></div>
</details>
</div>
</div>
</li>
<li>
<p>You can get even dive into the <code>Available Commands</code> of the above commands with another <code>--help</code> <img alt="ðŸ˜®" class="twemoji" src="https://twemoji.maxcdn.com/v/latest/svg/1f62e.svg" title=":open_mouth:" /></p>
<div class="highlight"><pre><span></span><code>hpvs sb build --help
</code></pre></div>
<details class="example" open="open"><summary>Example Output</summary><div class="highlight"><pre><span></span><code>Securely build your image

Usage:
hpvs sb build <span class="o">[</span>flags<span class="o">]</span>

Flags:
    --config string   Config file path
-h, --help            Help <span class="k">for</span> build
    --timeout int     Build timeout in minutes <span class="o">(</span>default <span class="m">10</span><span class="o">)</span>

Global Flags:
    --debug                   If --debug is passed, it will <span class="nb">enable</span> debug logs
    --host string             Host LPAR name
    --log-output-dir string   Set log output directory
</code></pre></div>
</details>
</li>
<li>
<p>For further exploration of the Hyper Protect Virtual Servers CLI <a href="https://www.ibm.com/support/knowledgecenter/en/SSHPMH_1.2.x/topics/cmd_hpvs.html" target_blank="target_blank">see the Knowledge Center</a></p>
</li>
</ol>
<h2 id="add-docker-registry-to-use-for-secure-build">Add Docker registry to use for secure build<a class="headerlink" href="#add-docker-registry-to-use-for-secure-build" title="Permanent link">&para;</a></h2>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>In this section you will add the details to connect to your Docker Hub Registry so your secure build container can push your securely built images there. Don't worry, your Docker token is safely encrypted on your Skytap Linux VM using the <code>HPVS Registry CLI Encryption Key</code> referenced in the <a href="../overview/#fnref:2">key table</a>.</p>
</div>
<ol>
<li>
<p>See your current Docker registries with:</p>
<div class="highlight"><pre><span></span><code>hpvs registry list
</code></pre></div>
<details class="example" open="open"><summary>Example Output</summary><div class="highlight"><pre><span></span><code>+---------------+
| REGISTRY NAME |
+---------------+
+---------------+
</code></pre></div>
</details>
</li>
<li>
<p>Set your <code>DOCKER_USERNAME</code> to the username for your account on <a href="https://hub.docker.com/" target="_blank">Docker Hub</a></p>
<div class="tabbed-set" data-tabs="2:2"><input checked="checked" id="__tabbed_2_1" name="__tabbed_2" type="radio" /><label for="__tabbed_2_1">Command Syntax</label><div class="tabbed-content">
<div class="highlight"><pre><span></span><code><span class="nb">export</span> <span class="nv">DOCKER_USERNAME</span><span class="o">=</span><span class="s2">&quot;my_username&quot;</span>
</code></pre></div>
</div>
<input id="__tabbed_2_2" name="__tabbed_2" type="radio" /><label for="__tabbed_2_2">Example Command</label><div class="tabbed-content">
<div class="highlight"><pre><span></span><code><span class="nb">export</span> <span class="nv">DOCKER_USERNAME</span><span class="o">=</span><span class="s2">&quot;gmoney23&quot;</span>
</code></pre></div>
</div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This will be the username you used when you created your <a href="https://hub.docker.com/" target="_blank">Docker Hub</a> account in the <a href="../../prerequisites/#Create-a-Docker-Hub" target="_blank">Prerequisites</a></p>
</div>
</li>
<li>
<p>Save your <code>DOCKER_USERNAME</code> to <code>bashrc</code> for later use.</p>
<div class="highlight"><pre><span></span><code><span class="nb">echo</span> <span class="s2">&quot;export DOCKER_USERNAME=&#39;</span><span class="si">${</span><span class="nv">DOCKER_USERNAME</span><span class="si">}</span><span class="s2">&#39;&quot;</span> &gt;&gt; <span class="s2">&quot;</span><span class="si">${</span><span class="nv">HOME</span><span class="si">}</span><span class="s2">/.bashrc&quot;</span>
</code></pre></div>
</li>
<li>
<p>Set your <code>DOCKER_PASSWORD</code> the token you created for this lab on <a href="https://hub.docker.com/" target="_blank">Docker Hub</a>.</p>
<div class="tabbed-set" data-tabs="3:2"><input checked="checked" id="__tabbed_3_1" name="__tabbed_3" type="radio" /><label for="__tabbed_3_1">Command Syntax</label><div class="tabbed-content">
<div class="highlight"><pre><span></span><code><span class="nb">export</span> <span class="nv">DOCKER_PASSWORD</span><span class="o">=</span><span class="s2">&quot;my_docker_token&quot;</span>
</code></pre></div>
</div>
<input id="__tabbed_3_2" name="__tabbed_3" type="radio" /><label for="__tabbed_3_2">Example Command</label><div class="tabbed-content">
<div class="highlight"><pre><span></span><code><span class="nb">export</span> <span class="nv">DOCKER_PASSWORD</span><span class="o">=</span><span class="s2">&quot;123456789&quot;</span>
</code></pre></div>
</div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This will be the Docker Hub token you created for the lab in the <a href="../../prerequisites/#create-a-docker-access-token" target="_blank">Prerequisites</a></p>
</div>
</li>
<li>
<p>Check your <a href="https://hub.docker.com/" target="_blank">Docker Hub</a> login credentials with a <code>docker login</code> and do a <code>docker logout</code> to remove unencrypted Docker credentials locally.</p>
<div class="highlight"><pre><span></span><code><span class="nb">echo</span> <span class="s2">&quot;</span><span class="si">${</span><span class="nv">DOCKER_PASSWORD</span><span class="si">}</span><span class="s2">&quot;</span> <span class="p">|</span> docker login -u <span class="si">${</span><span class="nv">DOCKER_USERNAME</span><span class="si">}</span> --password-stdin <span class="o">&amp;&amp;</span> docker <span class="nb">logout</span>
</code></pre></div>
<details class="success" open="open"><summary>Successful login</summary><div class="highlight"><pre><span></span><code>WARNING! Your password will be stored unencrypted in /home/hyper-protect-lab/.docker/config.json.
Configure a credential helper to remove this warning. See
https://docs.docker.com/engine/reference/commandline/login/#credentials-store

Login Succeeded
Removing login credentials <span class="k">for</span> https://index.docker.io/v1/
</code></pre></div>
</details>
<details class="failure" open="open"><summary>Failed Login <img alt="ðŸ˜ž" class="twemoji" src="https://twemoji.maxcdn.com/v/latest/svg/1f61e.svg" title=":disappointed:" /> Please redo <a href="#add-docker-registry-to-use-for-secure-build">this section</a></summary><div class="highlight"><pre><span></span><code>Error response from daemon: Get https://registry-1.docker.io/v2/: unauthorized: incorrect username or password
</code></pre></div>
</details>
</li>
<li>
<p>Set your <code>REGISTRY_NAME</code> to a Docker registry placeholder name of your choosing.</p>
<div class="tabbed-set" data-tabs="4:2"><input checked="checked" id="__tabbed_4_1" name="__tabbed_4" type="radio" /><label for="__tabbed_4_1">Command Syntax</label><div class="tabbed-content">
<div class="highlight"><pre><span></span><code><span class="nb">export</span> <span class="nv">REGISTRY_NAME</span><span class="o">=</span><span class="s2">&quot;my_registry&quot;</span>
</code></pre></div>
</div>
<input id="__tabbed_4_2" name="__tabbed_4" type="radio" /><label for="__tabbed_4_2">Example Command</label><div class="tabbed-content">
<div class="highlight"><pre><span></span><code><span class="nb">export</span> <span class="nv">REGISTRY_NAME</span><span class="o">=</span><span class="s2">&quot;g_docker_hub&quot;</span>
</code></pre></div>
</div>
</div>
</li>
<li>
<p>Save your <code>REGISTRY_NAME</code> to <code>bashrc</code> for future shells (in case you open new terminals)</p>
<div class="highlight"><pre><span></span><code><span class="nb">echo</span> <span class="s2">&quot;export REGISTRY_NAME=&#39;</span><span class="si">${</span><span class="nv">REGISTRY_NAME</span><span class="si">}</span><span class="s2">&#39;&quot;</span> &gt;&gt; <span class="s2">&quot;</span><span class="si">${</span><span class="nv">HOME</span><span class="si">}</span><span class="s2">/.bashrc&quot;</span>
</code></pre></div>
</li>
<li>
<p>Add your Docker registry with:</p>
<div class="highlight"><pre><span></span><code><span class="nb">echo</span> <span class="s2">&quot;</span><span class="si">${</span><span class="nv">DOCKER_PASSWORD</span><span class="si">}</span><span class="s2">&quot;</span> <span class="p">|</span> hpvs registry add <span class="se">\</span>
--name <span class="s2">&quot;</span><span class="si">${</span><span class="nv">REGISTRY_NAME</span><span class="si">}</span><span class="s2">&quot;</span> --dct https://notary.docker.io <span class="se">\</span>
--url docker.io --user <span class="s2">&quot;</span><span class="si">${</span><span class="nv">DOCKER_USERNAME</span><span class="si">}</span><span class="s2">&quot;</span>
</code></pre></div>
<details class="example" open="open"><summary>Example Output</summary><div class="highlight"><pre><span></span><code>Enter Password:
</code></pre></div>
</details>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>You can ignore the <code>Enter Password:</code> prompt because the command does that for you with the <code>echo "${DOCKER_PASSWORD}" |</code> before the <code>hpvs registry add</code> command.</p>
</div>
</li>
<li>
<p>List your registered Docker registries again to confirm your registry has been added.</p>
<div class="highlight"><pre><span></span><code>hpvs registry list
</code></pre></div>
<details class="example" open="open"><summary>Example Output</summary><div class="highlight"><pre><span></span><code>+---------------+
<span class="p">|</span> REGISTRY NAME <span class="p">|</span>
+---------------+
<span class="p">|</span> g_docker_hub  <span class="p">|</span>
+---------------+
</code></pre></div>
</details>
</li>
<li>
<p>Check the details of your added registry with</p>
<div class="highlight"><pre><span></span><code>hpvs registry show --name <span class="s2">&quot;</span><span class="si">${</span><span class="nv">REGISTRY_NAME</span><span class="si">}</span><span class="s2">&quot;</span>
</code></pre></div>
<details class="example" open="open"><summary>Example Output</summary><div class="highlight"><pre><span></span><code>+------+--------------------------+
<span class="p">|</span> name <span class="p">|</span> g_docker_hub             <span class="p">|</span>
<span class="p">|</span> user <span class="p">|</span> gmoney23                 <span class="p">|</span>
<span class="p">|</span> dct  <span class="p">|</span> https://notary.docker.io <span class="p">|</span>
<span class="p">|</span> url  <span class="p">|</span> docker.io                <span class="p">|</span>
+------+--------------------------+
</code></pre></div>
</details>
</li>
</ol>
<h2 id="create-directory-for-secure-build-lab-and-change-directory">Create directory for secure build lab and change directory<a class="headerlink" href="#create-directory-for-secure-build-lab-and-change-directory" title="Permanent link">&para;</a></h2>
<ol>
<li>
<p>Set your secure build directory</p>
<div class="highlight"><pre><span></span><code><span class="nb">export</span> <span class="nv">SB_DIR</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$HOME</span><span class="s2">/securebuild-lab&quot;</span>
</code></pre></div>
</li>
<li>
<p>Save <code>SB_DIR</code> to <code>$HOME/.bashrc</code> for future shells (in case you open new terminals)</p>
<div class="highlight"><pre><span></span><code><span class="nb">echo</span> <span class="s2">&quot;export SB_DIR=&#39;</span><span class="si">${</span><span class="nv">SB_DIR</span><span class="si">}</span><span class="s2">&#39;&quot;</span> &gt;&gt; <span class="s2">&quot;</span><span class="si">${</span><span class="nv">HOME</span><span class="si">}</span><span class="s2">/.bashrc&quot;</span>
</code></pre></div>
</li>
<li>
<p>Create <code>SB_DIR</code> and change into it</p>
<div class="highlight"><pre><span></span><code>mkdir -p <span class="s2">&quot;</span><span class="si">${</span><span class="nv">SB_DIR</span><span class="si">}</span><span class="s2">&quot;</span> <span class="o">&amp;&amp;</span> <span class="nb">cd</span> <span class="s2">&quot;</span><span class="si">${</span><span class="nv">SB_DIR</span><span class="si">}</span><span class="s2">&quot;</span>
</code></pre></div>
</li>
</ol>
<h2 id="create-ssh-key-and-grant-github-access">Create SSH Key and Grant GitHub access<a class="headerlink" href="#create-ssh-key-and-grant-github-access" title="Permanent link">&para;</a></h2>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>This section goes through adding the <code>GitHub SSH Key</code> referenced in the <a href="../overview/#fnref:2">key table</a> to your GitHub account to enable cloning GitHub repositories via SSH for secure builds.</p>
</div>
<ol>
<li>
<p>Create GitHub keys directory</p>
<div class="highlight"><pre><span></span><code>mkdir -p <span class="s2">&quot;</span><span class="si">${</span><span class="nv">SB_DIR</span><span class="si">}</span><span class="s2">/github_keys&quot;</span>
</code></pre></div>
</li>
<li>
<p>Set <code>GITHUB_SSH_KEY</code> variable</p>
<div class="highlight"><pre><span></span><code><span class="nb">export</span> <span class="nv">GITHUB_SSH_KEY</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">SB_DIR</span><span class="si">}</span><span class="s2">/github_keys/github_rsa&quot;</span>
</code></pre></div>
</li>
<li>
<p>Save <code>GITHUB_SSH_KEY</code> variable in <code>bashrc</code> for later use</p>
<div class="highlight"><pre><span></span><code><span class="nb">echo</span> <span class="s2">&quot;export GITHUB_SSH_KEY=&#39;</span><span class="si">${</span><span class="nv">GITHUB_SSH_KEY</span><span class="si">}</span><span class="s2">&#39;&quot;</span> &gt;&gt; <span class="s2">&quot;</span><span class="si">${</span><span class="nv">HOME</span><span class="si">}</span><span class="s2">/.bashrc&quot;</span>
</code></pre></div>
</li>
<li>
<p>Create Public and private key for GitHub access</p>
<div class="highlight"><pre><span></span><code>ssh-keygen -t rsa -b <span class="m">4096</span> -f <span class="s2">&quot;</span><span class="si">${</span><span class="nv">GITHUB_SSH_KEY</span><span class="si">}</span><span class="s2">&quot;</span> -N <span class="s1">&#39;&#39;</span>
</code></pre></div>
<details class="example" open="open"><summary>Example Output</summary><div class="highlight"><pre><span></span><code>Generating public/private rsa key pair.
Your identification has been saved in /home/multiarch-lab/securebuild-lab/github_keys/github_rsa.
Your public key has been saved in /home/multiarch-lab/securebuild-lab/github_keys/github_rsa.pub.
The key fingerprint is:
SHA256:sbEfCzwyOz/LaZ4jSeKT+Aw7IWUr7YT6m8Hxv9Dq90k multiarch-lab@ubuntu
The key<span class="err">&#39;</span>s randomart image is:
+---<span class="o">[</span>RSA <span class="m">4096</span><span class="o">]</span>----+
<span class="p">|</span>                 <span class="p">|</span>
<span class="p">|</span>                 <span class="p">|</span>
<span class="p">|</span>        o        <span class="p">|</span>
<span class="p">|</span>  o    . <span class="o">=</span>       <span class="p">|</span>
<span class="p">|</span> <span class="o">=</span>..  o S .      <span class="p">|</span>
<span class="p">|</span>+.<span class="o">=</span>o...+ + o     <span class="p">|</span>
<span class="p">|</span>.<span class="o">=</span>++o++.E o      <span class="p">|</span>
<span class="p">|</span>. +*+++<span class="o">=</span>++       <span class="p">|</span>
<span class="p">|</span> .<span class="o">===</span>oo*X+       <span class="p">|</span>
+----<span class="o">[</span>SHA256<span class="o">]</span>-----+
</code></pre></div>
</details>
</li>
<li>
<p>Cat GitHub public key to terminal</p>
<div class="highlight"><pre><span></span><code>cat <span class="s2">&quot;</span><span class="si">${</span><span class="nv">GITHUB_SSH_KEY</span><span class="si">}</span><span class="s2">.pub&quot;</span>
</code></pre></div>
<details class="example" open="open"><summary>Example Output</summary><div class="highlight"><pre><span></span><code>ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQC6zsnjH4fXaR/imYkzRaYVgWsNVIY4LzCftygKGTFJVBDMqVErsbkvF810RUTPIIowwe7Bx2UGLtwv3kL2omUJaHjol/+nzQjdmFrV2qnZosMUCn4xSpdffCmMyFWE8FnWw1ZSc7STcTD/NFzLjrN/vbJgMvla0aSxsENio2RvyFQkMKbwfojE22Q/MOtJAg0wyr9/0JNXiAyLYUEwfi1qVoF4F1mvXgLtNgTSx4VzokUKBsiSaDDbEa70ik154dtWLY9nemUsrSfUluCrHLaJhUy9cg6Jc+/9tco0cZhyZDnLIhT/4+n1XGfZxb83c5WElrg/IEYHGOHfqp+lMfusMj/0ppopz+f66dWDabVQCbrkqa+yfbw0ItC0+sZ7opIYGRLt+OelkrIECo7utzCTxdCCJ+2iUIiBV14my7xAFR+fNLKzl9KD+FTT/QoUPlqTmUQNo6NFNGG15znWVRtMDOdDiA6fugl6RrFJHDpaw9/lh+7g7tqwHGF83ZomvvFdKFMsXY6JTpj6rb7gtKzEapB9imCr0aw0ZTWTdlzTs9ksSNr1gZRf/eiztP5puC4weGDRXVjPwHOFOGbUH7Wk8ywQAmUJdEg03bz01U1htYryiNTD4VD2QfVTmxTltocj/2yv7Apv6gQ+Gb0LsgTp2aWbAnbeWX7qfjpYt0j/iw<span class="o">==</span> multiarch-lab@ubuntu
</code></pre></div>
</details>
</li>
<li>
<p>Copy <strong>your</strong> output (<strong>not</strong> the <code>Example Output</code> above) to the clipboard with <code>ctrl+c</code>.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>The above copy command (<code>ctrl+c</code>) is saving the <code>.pub</code> public key <strong>NOT</strong> the <code>private</code> key. You keep the private key and GitHub uses the public key to verify that it is communicating with the owner of the private key (i.e. you).</p>
</div>
</li>
<li>
<p>Add this key to your public GitHub at <a href="https://github.com/settings/ssh/new" target="_blank">https://github.com/settings/ssh/new</a></p>
<ol>
<li>
<p>Login or confirm your password if prompted</p>
<p><img alt="GitHub login page" src="../securebuild-setup_Images/GitHub_login_setup.png" /></p>
</li>
<li>
<p>Add SSH Key</p>
<p><img alt="Add GitHub SSH Key" src="../securebuild-setup_Images/Add_SSH_Key_GitHub.png" /></p>
</li>
<li>
<p>See your new SSH key has been added with your chosen title.</p>
<p><img alt="GitHub SSH Key Added" src="../securebuild-setup_Images/SSH_key_added_to_GitHub.png" /></p>
</li>
</ol>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>You created this <em>public</em> <code>github.com</code> GitHub in the <a href="../../prerequisites/#Create-a-GitHub" target="_blank">Prerequisites</a> (or already had one).</p>
</div>
</li>
<li>
<p>Scan for GitHub's public key (Done to trust GitHub connection the first time)</p>
<div class="highlight"><pre><span></span><code>ssh-keyscan -H github.com &gt;&gt; <span class="s2">&quot;</span><span class="si">${</span><span class="nv">HOME</span><span class="si">}</span><span class="s2">/.ssh/known_hosts&quot;</span>
</code></pre></div>
<div class="admonition example">
<p class="admonition-title">Example Output</p>
<div class="highlight"><pre><span></span><code><span class="c1"># github.com:22 SSH-2.0-babeld-ffbef2ae</span>
<span class="c1"># github.com:22 SSH-2.0-babeld-ffbef2ae</span>
<span class="c1"># github.com:22 SSH-2.0-babeld-ffbef2ae</span>
</code></pre></div>
</div>
</li>
<li>
<p>Check your GitHub key now has access to your account with:</p>
<div class="highlight"><pre><span></span><code>ssh -T git@github.com -i <span class="s2">&quot;</span><span class="si">${</span><span class="nv">GITHUB_SSH_KEY</span><span class="si">}</span><span class="s2">&quot;</span>
</code></pre></div>
<div class="admonition success">
<p class="admonition-title">Your key was added successfully</p>
<div class="highlight"><pre><span></span><code>Warning: Permanently added the RSA host key <span class="k">for</span> IP address <span class="s1">&#39;140.82.114.3&#39;</span> to the list of known hosts.
Hi siler23! You<span class="err">&#39;</span>ve successfully authenticated, but GitHub does not provide shell access.
</code></pre></div>
</div>
<div class="admonition failure">
<p class="admonition-title">Your key was <strong>NOT</strong> added <img alt="ðŸ˜ž" class="twemoji" src="https://twemoji.maxcdn.com/v/latest/svg/1f61e.svg" title=":disappointed:" /> Please redo <a href="#create-ssh-key-and-grant-github-access">this section</a></p>
<div class="highlight"><pre><span></span><code>Warning: Permanently added the RSA host key <span class="k">for</span> IP address <span class="s1">&#39;140.82.113.3&#39;</span> to the list of known hosts.
git@github.com: Permission denied <span class="o">(</span>publickey<span class="o">)</span>.
</code></pre></div>
</div>
</li>
<li>
<p>Feel at ease knowing you will delete this key from your Github account in the cleanup phase of this lab so access will be revoked soon enough <img alt="â˜º" class="twemoji" src="https://twemoji.maxcdn.com/v/latest/svg/263a.svg" title=":relaxed:" /></p>
</li>
</ol>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid" aria-label="Footer">
        
          <a href="../overview/" class="md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
            </div>
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Hyper Protect Virtual Servers (HPVS) Lab Process Overview
              </div>
            </div>
          </a>
        
        
          <a href="../create-server/" class="md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Create your HPVS Secure Build Server
              </div>
            </div>
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
  <div class="md-footer-social">
    
      
      
        
        
      
      <a href="https://github.com/ibm-wsc" target="_blank" rel="noopener" title="github.com" class="md-footer-social__link">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
      </a>
    
      
      
        
        
      
      <a href="https://hub.docker.com/u/s390x" target="_blank" rel="noopener" title="hub.docker.com" class="md-footer-social__link">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><path d="M349.9 236.3h-66.1v-59.4h66.1v59.4zm0-204.3h-66.1v60.7h66.1V32zm78.2 144.8H362v59.4h66.1v-59.4zm-156.3-72.1h-66.1v60.1h66.1v-60.1zm78.1 0h-66.1v60.1h66.1v-60.1zm276.8 100c-14.4-9.7-47.6-13.2-73.1-8.4-3.3-24-16.7-44.9-41.1-63.7l-14-9.3-9.3 14c-18.4 27.8-23.4 73.6-3.7 103.8-8.7 4.7-25.8 11.1-48.4 10.7H2.4c-8.7 50.8 5.8 116.8 44 162.1 37.1 43.9 92.7 66.2 165.4 66.2 157.4 0 273.9-72.5 328.4-204.2 21.4.4 67.6.1 91.3-45.2 1.5-2.5 6.6-13.2 8.5-17.1l-13.3-8.9zm-511.1-27.9h-66v59.4h66.1v-59.4zm78.1 0h-66.1v59.4h66.1v-59.4zm78.1 0h-66.1v59.4h66.1v-59.4zm-78.1-72.1h-66.1v60.1h66.1v-60.1z"/></svg>
      </a>
    
  </div>

    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/vendor.fd16492e.min.js"></script>
      <script src="../../assets/javascripts/bundle.7836ba4d.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing"}</script>
      
      <script>
        app = initialize({
          base: "../..",
          features: [],
          search: Object.assign({
            worker: "../../assets/javascripts/worker/search.4ac00218.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
    
  </body>
</html>